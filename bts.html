<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Behind the Game ‚Äì The Footballer‚Äôs Sister</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --bg: #fff7fb;
      --accent: #be185d;
      --muted: #6b7280;
      --card: #ffffff;
      --shadow: 0 10px 30px rgba(11,7,17,0.06);
    }

    body { background: #fff2f6; color: #111827; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; }

    /* HEADER (saved style) */
    header {
      background: linear-gradient(180deg, rgba(246,213,239,0.6), rgba(255,241,248,0.6));
      border-bottom: 1px solid rgba(235,200,215,0.6);
      backdrop-filter: blur(4px);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    .container { max-width:1100px; margin:0 auto; padding:1.25rem 1rem; }
    .site-title { color: var(--accent); font-weight: 800; letter-spacing: .02em; font-size:1.15rem; }

    .dropdown-open { opacity:1!important; transform:scale(1)!important; }

    main { max-width:1100px; margin:0 auto; padding:1.5rem; padding-bottom:4.5rem; }

    /* Player profiles */
    .profiles-grid { display:grid; grid-template-columns: 1fr 1fr; gap:1.25rem; margin-bottom:2rem; }
    @media (max-width:900px){ .profiles-grid { grid-template-columns: 1fr; } }
    .profile-card { background:#fff; padding:1.25rem; border-radius:12px; box-shadow:var(--shadow); border:1px solid rgba(235,224,232,0.6); display:flex; flex-direction:column; align-items:center; text-align:center; }
    .profile-img { width:100%; height:24rem; object-fit:cover; border-radius:10px; margin-bottom:1rem; }

    /* GRID: vlogs vs collabs */
    .bts-grid { display:grid; grid-template-columns: 1fr 1fr; gap:2.5rem; align-items:start; }
    @media (max-width: 900px) { .bts-grid { grid-template-columns: 1fr; gap:1.25rem; } }

    .carousel-card { background:var(--card); border-radius:14px; padding:0.75rem; box-shadow:var(--shadow); border:1px solid rgba(235,224,232,0.6); }
    .embed-wrap { position:relative; width:100%; overflow:hidden; border-radius:12px; background:transparent; }
    .embed-wrap { height:70vh; min-height:420px; }
    .embed-wrap iframe { position:absolute !important; top:0 !important; left:0 !important; width:100% !important; height:100% !important; border:0 !important; margin:0 !important; padding:0 !important; display:block !important; background:transparent !important; border-radius:12px; }

    .collab-card { background:var(--card); border-radius:12px; overflow:hidden; border:1px solid rgba(235,224,232,0.6); box-shadow:var(--shadow); }
    .collab-media { display:block; width:100%; object-fit:cover; height:60vh; min-height:360px; }
    @media (max-width:900px) {
      .embed-wrap { height:56vh; min-height:300px; }
      .collab-media { height:48vh; min-height:220px; }
    }

    .collab-caption { padding:.85rem .9rem; text-align:center; font-weight:700; color:var(--accent); background:#fff; }

    .carousel-button { background: rgba(255,255,255,0.9); border-radius:999px; width:36px; height:36px; display:flex; align-items:center; justify-content:center; box-shadow:0 6px 18px rgba(11,7,17,0.06); border:1px solid rgba(0,0,0,0.04); }
    .muted { color:var(--muted); }

    footer { margin-top:2.5rem; }
    .footer-badge { color: #fff; background: linear-gradient(90deg,#be185d,#f472b6); padding:.45rem .85rem; border-radius:999px; font-weight:700; display:inline-block; }

    .section-title { font-size:1.75rem; font-weight:800; color:var(--accent); margin-bottom:1rem; text-align:center; }
    .two-col-head { display:flex; gap:1rem; align-items:center; justify-content:space-between; margin-bottom:1rem; }
    @media (max-width:900px) { .two-col-head { flex-direction:column; align-items:center; } }
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;">
      <div class="site-title">THE FOOTBALLER'S SISTER</div>

      <div class="relative inline-block text-left">
        <button id="navButton" class="inline-flex items-center justify-center rounded-md border border-pink-200 shadow-sm px-4 py-2 bg-white text-sm font-medium text-rose-600 hover:bg-pink-50 focus:outline-none">
          <span id="navTitle">Loading...</span>
          <svg class="-mr-1 ml-2 h-5 w-5 text-rose-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd" />
          </svg>
        </button>

        <div id="dropdownMenu" class="hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 transform transition-all duration-200 ease-out scale-95 opacity-0">
          <div class="py-1">
            <a href="index.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Home</a>
            <a href="bts.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Behind the Game</a>
            <a href="leila.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Meet Leila</a>
            <a href="questions.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Q&A</a>
            <a href="support-wall.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Support Wall</a>
            <a href="fixtures.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Fixtures & Live Scores</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="two-col-head">
      <h2 class="section-title">Behind the Game üì∏‚öΩ</h2>
    </div>

    <!-- Player Profiles (RESTORED EXACTLY AS ORIGINAL FULL CONTENT) -->
    <section class="profiles-grid" aria-label="Player profiles">
      <!-- Elijah (hard-coded) -->
      <div class="profile-card">
        <img src="images/elijah2.jpeg" alt="Elijah Sono" class="profile-img" />
        <h4 class="text-2xl font-bold text-rose-700 flex items-center gap-3" style="margin-bottom:.35rem;">
          <span>Elijah Sono</span>
          <span class="inline-flex items-center gap-2 ml-2">
            <!-- Instagram icon -->
            <a id="elijah-instagram" href="https://www.instagram.com/elijah_sono?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noreferrer" title="Instagram">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="2" y="2" width="20" height="20" rx="5" stroke="#BE185D" stroke-width="1.5" fill="none"/>
                <path d="M7.75 11.99a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0z" stroke="#BE185D" stroke-width="1.5" fill="none"/>
                <circle cx="17.8" cy="6.2" r="0.7" fill="#BE185D"/>
              </svg>
            </a>

            <!-- TikTok icon (resized to match Instagram visual weight) -->
            <a id="elijah-tiktok" href="https://www.tiktok.com/@elijah_sono_?is_from_webapp=1&sender_device=pc" target="_blank" rel="noreferrer" title="TikTok">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                   xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M15 6.5c.6.6 1.6 1.1 3 1.1v2.1c-1.3 0-2.4-.4-3-.9v5.8a3.6 3.6 0 1 1-3.6-3.6c.2 0 .5 0 .7.1v2.2a1.4 1.4 0 1 0 1.4 1.4V6.5z"
                      stroke="#BE185D"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"/>
              </svg>
            </a>
          </span>
        </h4>

        <p class="text-gray-600 mt-1"><strong>Position:</strong> Midfielder</p>

        <div class="mt-4 text-left w-full">
          <h5 class="font-semibold text-rose-600">Key Attributes:</h5>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li><strong>Dribbling:</strong> Confident on the ball with quick feet to navigate tight spaces.</li>
            <li><strong>Passing:</strong> Excellent vision and timing to consistently find teammates.</li>
            <li><strong>Tackling:</strong> Reads the game well with precise and controlled tackling.</li>
          </ul>
        </div>

        <div class="mt-4 text-left w-full">
          <h5 class="font-semibold text-rose-600">Experience:</h5>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li>Currently plays for the u13 Jomo Cosmos team in the GDL league.</li>
            <li>Played for the u13 Jomo Cosmos team at age 10 and 11.</li>
            <li>Developed skills at Wanderers Discovery Soccer Club.</li>
          </ul>
        </div>

        <a href="pdfs/ELIJAHSONO-player-profile.pdf" target="_blank" rel="noreferrer" class="mt-6 inline-block bg-rose-600 text-white px-6 py-3 rounded-full hover:bg-rose-700 transition font-semibold">View Player Profile</a>
      </div>

      <!-- Bamuza (hard-coded) -->
      <div class="profile-card">
        <img src="images/Bamuza.jpeg" alt="Bamuza Sono" class="profile-img" />
        <h4 class="text-2xl font-bold text-rose-700 flex items-center gap-3" style="margin-bottom:.35rem;">
          <span>Bamuza Sono Jnr</span>
          <span class="inline-flex items-center gap-2 ml-2">
            <a id="bamuza-instagram" href="https://www.instagram.com/bamuza_sono?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noreferrer" title="Instagram">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <rect x="2" y="2" width="20" height="20" rx="5" stroke="#BE185D" stroke-width="1.5" fill="none"/>
                <path d="M7.75 11.99a4.25 4.25 0 1 1 8.5 0 4.25 4.25 0 0 1-8.5 0z" stroke="#BE185D" stroke-width="1.5" fill="none"/>
                <circle cx="17.8" cy="6.2" r="0.7" fill="#BE185D"/>
              </svg>
            </a>

            <!-- TikTok icon (resized to match Instagram visual weight) -->
            <a id="bamuza-tiktok" href="https://www.tiktok.com/@bamuza_sono?is_from_webapp=1&sender_device=pc" target="_blank" rel="noreferrer" title="TikTok">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                   xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M15 6.5c.6.6 1.6 1.1 3 1.1v2.1c-1.3 0-2.4-.4-3-.9v5.8a3.6 3.6 0 1 1-3.6-3.6c.2 0 .5 0 .7.1v2.2a1.4 1.4 0 1 0 1.4 1.4V6.5z"
                      stroke="#BE185D"
                      stroke-width="1.5"
                      stroke-linecap="round"
                      stroke-linejoin="round"/>
              </svg>
            </a>
          </span>
        </h4>

        <p class="text-gray-600 mt-1"><strong>Position:</strong> Midfielder</p>

        <div class="mt-4 text-left w-full">
          <h5 class="font-semibold text-rose-600">Key Attributes:</h5>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li><strong>Dribbling:</strong> Able to take on defenders with close control and quick feet.</li>
            <li><strong>Passing:</strong> Excellent vision to deliver precise short passes or long balls.</li>
            <li><strong>Shooting:</strong> Known as a free-kick or corner kick taker.</li>
          </ul>
        </div>

        <div class="mt-4 text-left w-full">
          <h5 class="font-semibold text-rose-600">Experience:</h5>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li>Currently playing for the U17 Jomo Cosmos FC team in the GDL league.</li>
            <li>Played for the U15 and U17 teams in previous years.</li>
            <li>Developed skills at Wanderers Discovery Soccer Club</li>
          </ul>
        </div>

        <a href="pdfs/BAMUZASONO-player-profile.pdf" target="_blank" rel="noreferrer" class="mt-6 inline-block bg-rose-600 text-white px-6 py-3 rounded-full hover:bg-rose-700 transition font-semibold">View Player Profile</a>
      </div>
    </section>

    <!-- Vlogs & Collaborations side-by-side (carousels sizes increased and aligned) -->
    <div class="bts-grid">
      <!-- LEFT: TikTok -->
      <div>
        <div class="carousel-card">
          <h3 style="font-weight:800;color:var(--accent);text-align:center;margin-bottom:.75rem;">My Vlogs & Highlights</h3>

          <div id="video-carousel" style="position:relative;">
            <div class="embed-wrap" id="embedWrap">
              <!-- replace/add iframes as you need; first iframe shown -->
              <iframe src="https://www.tiktok.com/embed/v2/7529094647944072454" allowfullscreen></iframe>
            </div>

            <button id="prevBtn" aria-label="previous video" class="carousel-button" style="position:absolute;left:-8px;top:50%;transform:translateY(-50%);">‚Äπ</button>
            <button id="nextBtn" aria-label="next video" class="carousel-button" style="position:absolute;right:-8px;top:50%;transform:translateY(-50%);">‚Ä∫</button>
          </div>
        </div>
      </div>

      <!-- RIGHT: Collaborations (reads Firestore collabs) -->
      <div>
        <div class="collab-card">
          <h3 style="font-weight:800;color:var(--accent);text-align:center;padding:1rem 1rem 0;">Collaborations</h3>

          <div id="collabArea" style="padding:1rem;">
            <div id="collabSlidesWrapper" style="position:relative;">
              <div id="collabSlides" style="display:flex;transition:transform .45s ease;width:100%;overflow:hidden;">
                <div class="muted" style="width:100%;padding:2rem;text-align:center;">Loading collaborations...</div>
              </div>

              <button id="collabPrev" class="carousel-button" style="position:absolute;left:8px;top:50%;transform:translateY(-50%);">‚Äπ</button>
              <button id="collabNext" class="carousel-button" style="position:absolute;right:8px;top:50%;transform:translateY(-50%);">‚Ä∫</button>
            </div>

            <!-- no loaded-count text as requested -->
            <div id="collabFooter" style="text-align:center;padding-top:1rem;"></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer (badge style) -->
  <footer>
    <div class="container" style="text-align:center;padding-top:1rem;padding-bottom:2rem;">
      <small class="footer-badge">¬© <span id="year"></span> The Footballer‚Äôs Sister</small>
    </div>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

  <!-- TikTok embed script -->
  <script async src="https://www.tiktok.com/embed.js"></script>

  <!-- Navbar dropdown -->
  <script>
    (function () {
      const navButton = document.getElementById('navButton');
      const dropdownMenu = document.getElementById('dropdownMenu');
      const navItems = document.querySelectorAll('.nav-item');
      const navTitle = document.getElementById('navTitle');
      let currentPage = window.location.pathname.split('/').pop();
      if (!currentPage || currentPage === '') currentPage = 'index.html';

      const pageTitles = {
        "index.html": "Home",
        "bts.html": "Behind the Game",
        "leila.html": "Meet Leila",
        "questions.html": "Q&A",
        "support-wall.html": "Support Wall",
        "fixtures.html": "Fixtures & Live Scores"
      };
      navTitle.textContent = pageTitles[currentPage] || "Menu";

      navItems.forEach(link => {
        const hrefName = link.getAttribute('href').split('/').pop();
        if (hrefName === currentPage) {
          link.classList.add("font-semibold", "text-rose-600");
        }
      });

      navButton.addEventListener('click', (e) => {
        e.stopPropagation();
        const isHidden = dropdownMenu.classList.contains('hidden');
        if (isHidden) {
          dropdownMenu.classList.remove('hidden');
          setTimeout(()=>dropdownMenu.classList.add('dropdown-open'), 10);
        } else {
          dropdownMenu.classList.remove('dropdown-open');
          setTimeout(()=>dropdownMenu.classList.add('hidden'), 200);
        }
      });

      document.addEventListener('click', (e) => {
        if (!navButton.contains(e.target) && !dropdownMenu.contains(e.target)) {
          dropdownMenu.classList.remove('dropdown-open');
          setTimeout(()=>dropdownMenu.classList.add('hidden'), 200);
        }
      });

      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          dropdownMenu.classList.remove('dropdown-open');
          setTimeout(()=>dropdownMenu.classList.add('hidden'), 200);
        }
      });
    })();
  </script>

  <!-- Firestore subscription + collab UI -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, collection, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBiIvIHLYEQc0UGDcg4Qq0-w2Sv8NHmc6w",
      authDomain: "football-site-c3aa9.firebaseapp.com",
      projectId: "football-site-c3aa9",
      storageBucket: "football-site-c3aa9.appspot.com",
      messagingSenderId: "65396604482",
      appId: "1:65396604482:web:0f31625a714aa8352337db"
    };
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);

    // exact collabs collection path you gave:
    const COLLABS_PATH = "artifacts/1:65396604482:web:0f31625a714aa8352337db/public/data/collabs";

    const slidesEl = document.getElementById('collabSlides');
    const collabPrev = document.getElementById('collabPrev');
    const collabNext = document.getElementById('collabNext');

    let items = [];
    let idx = 0;

    function cleanCaption(s){
      if(!s) return '';
      return String(s).replace(/[\u2022\u25E6\u25CF\u2023‚Ä¢‚ó¶‚óè]/g,'').replace(/\s{2,}/g,' ').trim();
    }

    function renderSlides(){
      slidesEl.innerHTML = '';
      if (!items.length) {
        slidesEl.innerHTML = '<div style="width:100%;padding:2rem;text-align:center;">No collaborations yet.</div>';
        return;
      }

      items.forEach(it => {
        const wrapper = document.createElement('div');
        wrapper.style.minWidth = '100%';
        wrapper.style.boxSizing = 'border-box';
        wrapper.style.padding = '0';
        wrapper.className = 'slide';
        const caption = cleanCaption(it.caption || '');

        wrapper.innerHTML = `
          <div class="collab-card" style="border-radius:12px;">
            <img src="${escapeHtml(it.imageUrl)}" alt="${escapeHtml(caption)}" class="collab-media" />
            <div class="collab-caption">${escapeHtml(caption || '')}</div>
          </div>
        `;
        slidesEl.appendChild(wrapper);
      });

      updatePosition();
    }

    function updatePosition(){ slidesEl.style.transform = `translateX(-${idx * 100}%)`; }

    if (collabPrev) collabPrev.addEventListener('click', () => {
      if (!items.length) return;
      idx = (idx - 1 + items.length) % items.length;
      updatePosition();
    });
    if (collabNext) collabNext.addEventListener('click', () => {
      if (!items.length) return;
      idx = (idx + 1) % items.length;
      updatePosition();
    });

    function escapeHtml(str){ if(!str) return ''; return String(str).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    function subscribeToCollabs(){
      try {
        const collRef = collection(db, COLLABS_PATH);
        onSnapshot(collRef, snap => {
          const docs = snap.docs.map(d => ({ id: d.id, ...(d.data ? d.data() : {}) }));
          docs.sort((a,b) => {
            const ta = a.uploadedAt && a.uploadedAt.seconds ? a.uploadedAt.seconds : 0;
            const tb = b.uploadedAt && b.uploadedAt.seconds ? b.uploadedAt.seconds : 0;
            return tb - ta;
          });
          items = docs.map(d => ({ imageUrl: d.imageUrl || d.image || d.url || '', caption: d.caption || d.title || '' })).filter(i => i.imageUrl);
          idx = 0;
          renderSlides();
        }, err => {
          console.warn('collabs onSnapshot error', err);
          slidesEl.innerHTML = '<div style="width:100%;padding:2rem;text-align:center;color:#9aa0a6;">No realtime subscription available for gallery ‚Äî check collection path or Firestore rules (permission-denied).</div>';
        });
      } catch (err) {
        console.error('subscribeToCollabs failed', err);
        slidesEl.innerHTML = '<div style="width:100%;padding:2rem;text-align:center;color:#9aa0a6;">Unable to load collaborations.</div>';
      }
    }

    onAuthStateChanged(auth, (user) => {
      subscribeToCollabs();
      if (!user) {
        signInAnonymously(auth).catch(err => {
          console.warn('Anonymous sign-in failed (continuing read-only):', err);
        });
      }
    });
  </script>

  <!-- placeholder control handlers for TikTok (kept minimal) -->
  <script>
    (function(){
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      if(prevBtn) prevBtn.addEventListener('click', ()=>{ /* reserved for future multi-iframe control */ });
      if(nextBtn) nextBtn.addEventListener('click', ()=>{ /* reserved for future multi-iframe control */ });
    })();
  </script>

</body>
</html>
