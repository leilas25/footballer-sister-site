<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Behind the Game ‚Äì The Footballer‚Äôs Sister</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg: #fff2f6;
      --accent: #be185d;
      --muted: #6b7280;
      --card: #ffffff;
      --shadow: 0 10px 30px rgba(11,7,17,0.06);
    }

    body { background: var(--bg); color: #111827; font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    header {
      background: linear-gradient(180deg, rgba(246,213,239,0.6), rgba(255,241,248,0.6));
      border-bottom: 1px solid rgba(235,200,215,0.6);
      backdrop-filter: blur(4px);
    }
    .site-title { color: var(--accent); font-weight: 800; letter-spacing: .02em; }

    .container { max-width:1100px; margin:0 auto; padding:2.25rem 1.5rem; }

    /* embed */
    .embed-wrap { position: relative; width: 100%; overflow: hidden; background: #fff0f6; border-radius: 12px; }
    .embed-wrap::before { content:""; display:block; padding-top:177.77%; }
    .embed-wrap iframe { position: absolute !important; top: 0 !important; left: 0 !important; width: 100% !important; height: 100% !important; border: 0 !important; margin: 0 !important; padding: 0 !important; display: block !important; background: transparent !important; border-radius: 12px; }

    /* carousels */
    #video-slides-container, #collab-slides { display:flex; transition: transform .45s ease; width:100%; }
    #video-slides-container > .slide, #collab-slides > .slide { min-width:100%; box-sizing:border-box; margin:0; padding:0; }

    /* collab caption style: no dot, centered */
    .collab-caption { font-weight:700; color:var(--accent); margin:0.5rem 0 0; text-align:center; }

    /* player cards */
    .profile-card { background:var(--card); border-radius:12px; padding:1.25rem; box-shadow:var(--shadow); border:1px solid rgba(235,224,232,0.6); }

    /* dropdown animation */
    .dropdown-open { opacity:1!important; transform:scale(1)!important; }

    /* footer badge */
    .footer-badge { color:rgba(255,255,255,0.95); background:linear-gradient(90deg,#be185d,#f472b6); padding:.4rem .8rem; border-radius:999px; display:inline-block; }

    @media(min-width:768px) {
      .players-grid { display:grid; grid-template-columns: 1fr 1fr; gap:1.5rem; }
      .carousel-tall { height: 700px; }
      .collab-tall img { height: 540px; object-fit:cover; }
    }

    @media(max-width:767px) {
      .carousel-tall { height: calc(100vw * 1.6); }
      .collab-tall img { height: 380px; object-fit:cover; }
    }
  </style>
</head>
<body>

  <!-- Header with dropdown (Q&A style saved header) -->
  <header class="sticky top-0 z-40">
    <div class="container" style="display:flex;justify-content:space-between;align-items:center;padding-top:1rem;padding-bottom:1rem;">
      <div style="display:flex;align-items:center;gap:1rem;">
        <div class="site-title" style="font-size:1.1rem;">THE FOOTBALLER‚ÄôS SISTER</div>
      </div>

      <div class="relative inline-block text-left">
        <button id="navButton" class="inline-flex items-center justify-center rounded-md border border-pink-200 shadow-sm px-4 py-2 bg-white text-sm font-medium text-rose-600 hover:bg-pink-50 focus:outline-none">
          <span id="navTitle">Loading...</span>
          <svg class="-mr-1 ml-2 h-5 w-5 text-rose-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd" />
          </svg>
        </button>

        <div id="dropdownMenu" class="hidden origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 transform transition-all duration-200 ease-out scale-95 opacity-0">
          <div class="py-1">
            <a href="index.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Home</a>
            <a href="bts.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Behind the Game</a>
            <a href="leila.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Meet Leila</a>
            <a href="questions.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Q&A</a>
            <a href="support-wall.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Support Wall</a>
            <a href="fixtures.html" class="nav-item block px-4 py-2 text-sm text-gray-700 hover:bg-pink-50">Fixtures & Live Scores</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Hero: centered heading -->
    <section class="pt-28 text-center">
      <h2 class="text-4xl font-bold mb-4 text-rose-700">Behind the Game üì∏‚öΩ</h2>
      <p class="text-lg text-gray-600 mb-10">From pre-match rituals to post-match reflections, skills on the field and creative vlogs ‚Äî Welcome to the real story. This is football, sister-style.</p>
    </section>

    <!-- Player Profiles (restored exactly like original) -->
    <section class="players-grid mb-10">
      <div class="profile-card">
        <img src="images/elijah2.jpeg" alt="Elijah Sono" class="rounded-lg mb-4 w-full h-96 object-cover" />
        <h3 class="text-2xl font-bold text-rose-700">Elijah Sono</h3>
        <p class="text-gray-600"><strong>Position:</strong> Midfielder</p>
        <div class="mt-3">
          <h4 class="font-semibold text-rose-600">Key Attributes:</h4>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li><strong>Dribbling:</strong> Confident on the ball with quick feet to navigate tight spaces.</li>
            <li><strong>Passing:</strong> Excellent vision and timing to consistently find teammates.</li>
            <li><strong>Tackling:</strong> Reads the game well with precise and controlled tackling.</li>
          </ul>
        </div>
        <div class="mt-3">
          <h4 class="font-semibold text-rose-600">Experience:</h4>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li>Currently plays for the u13 Jomo Cosmos team in the GDL league.</li>
            <li>Played for the u13 Jomo Cosmos team at age 10 and 11.</li>
            <li>Developed skills at Wanderers Discovery Soccer Club.</li>
          </ul>
        </div>
        <div class="mt-4 flex gap-3 items-center">
          <a href="https://www.instagram.com/elijah_sono_" target="_blank" rel="noreferrer" class="text-rose-600">Instagram</a>
          <a href="https://www.tiktok.com/@elijah_sono_" target="_blank" rel="noreferrer" class="text-rose-600">TikTok</a>
          <a href="pdfs/ELIJAHSONO-player-profile.pdf" target="_blank" rel="noreferrer" class="ml-auto bg-rose-600 text-white px-4 py-2 rounded-full">View Player Profile</a>
        </div>
      </div>

      <div class="profile-card">
        <img src="images/Bamuza.jpeg" alt="Bamuza Sono" class="rounded-lg mb-4 w-full h-96 object-cover" />
        <h3 class="text-2xl font-bold text-rose-700">Bamuza Sono Jnr</h3>
        <p class="text-gray-600"><strong>Position:</strong> Midfielder</p>
        <div class="mt-3">
          <h4 class="font-semibold text-rose-600">Key Attributes:</h4>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li><strong>Dribbling:</strong> Able to take on defenders with close control and quick feet.</li>
            <li><strong>Passing:</strong> Excellent vision to deliver precise short passes or long balls.</li>
            <li><strong>Shooting:</strong> Known as a free-kick or corner kick taker.</li>
          </ul>
        </div>
        <div class="mt-3">
          <h4 class="font-semibold text-rose-600">Experience:</h4>
          <ul class="list-disc list-inside text-gray-700 mt-2 space-y-1 text-sm">
            <li>Currently playing for the U17 Jomo Cosmos FC team in the GDL league.</li>
            <li>Played for the U15 and U17 teams in previous years.</li>
            <li>Developed skills at Wanderers Discovery Soccer Club.</li>
          </ul>
        </div>
        <div class="mt-4 flex gap-3 items-center">
          <a href="https://www.instagram.com/bamuza_sono" target="_blank" rel="noreferrer" class="text-rose-600">Instagram</a>
          <a href="https://www.tiktok.com/@bamuza_sono" target="_blank" rel="noreferrer" class="text-rose-600">TikTok</a>
          <a href="pdfs/BAMUZASONO-player-profile.pdf" target="_blank" rel="noreferrer" class="ml-auto bg-rose-600 text-white px-4 py-2 rounded-full">View Player Profile</a>
        </div>
      </div>
    </section>

    <!-- Carousels: Vlogs & Collabs side-by-side -->
    <section class="mb-12">
      <div class="grid md:grid-cols-2 gap-8">
        <!-- TikTok / Vlog carousel (longer) -->
        <div>
          <h3 class="text-2xl font-bold mb-4 text-rose-700 text-center">My Vlogs & Highlights</h3>
          <div id="video-carousel" class="relative overflow-hidden rounded-lg shadow-lg mx-auto w-full carousel-tall">
            <div id="video-slides-container" class="flex transition-transform duration-500 ease-in-out carousel-tall">
              <!-- slides (example iframes) -->
              <div class="w-full flex-shrink-0 relative slide">
                <div class="embed-wrap">
                  <iframe src="https://www.tiktok.com/embed/v2/7529094647944072454" allowfullscreen class="absolute top-0 left-0 w-full h-full"></iframe>
                </div>
              </div>
              <div class="w-full flex-shrink-0 relative slide">
                <div class="embed-wrap">
                  <iframe src="https://www.tiktok.com/embed/v2/7514262969786567943" allowfullscreen class="absolute top-0 left-0 w-full h-full"></iframe>
                </div>
              </div>
            </div>

            <button id="prevBtn" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-white/60 text-gray-800 p-2 rounded-full hover:bg-white/80 transition-colors">
              ‚Äπ
            </button>
            <button id="nextBtn" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-white/60 text-gray-800 p-2 rounded-full hover:bg-white/80 transition-colors">
              ‚Ä∫
            </button>
          </div>
        </div>

        <!-- Collaborations carousel (longer visuals) -->
        <div>
          <h3 class="text-2xl font-bold mb-4 text-rose-700 text-center">Collaborations</h3>
          <div id="collab-carousel" class="relative overflow-hidden rounded-lg shadow-lg mx-auto w-full collab-tall">
            <div id="collab-slides" class="flex transition-transform duration-400 ease-in-out"></div>

            <button id="collabPrev" class="absolute top-1/2 left-3 transform -translate-y-1/2 bg-white/60 text-gray-800 p-2 rounded-full hover:bg-white transition-colors">‚Äπ</button>
            <button id="collabNext" class="absolute top-1/2 right-3 transform -translate-y-1/2 bg-white/60 text-gray-800 p-2 rounded-full hover:bg-white transition-colors">‚Ä∫</button>

            <div id="collabDots" class="absolute bottom-3 left-1/2 transform -translate-x-1/2 flex gap-2"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Support Wall Form Section (restored) -->
    <section class="px-0 max-w-2xl mx-auto mb-20 bg-pink-100 p-8 rounded-xl shadow-lg">
      <h3 class="text-2xl font-bold mb-4 text-rose-700 text-center">The Support Wall ‚ù§Ô∏è</h3>
      <p class="text-sm text-center text-gray-600 mb-6">Leave a message of support and it will appear on the wall! Your user ID is <span id="user-id" class="font-mono text-xs text-pink-700 break-all">Loading...</span></p>

      <form id="support-form" class="space-y-4">
        <div>
          <label for="name" class="sr-only">Your Name</label>
          <input type="text" id="name" placeholder="Your Name" required class="w-full px-4 py-2 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-rose-500">
        </div>
        <div>
          <label for="message" class="sr-only">Your Message</label>
          <textarea id="message" rows="3" placeholder="Write your message here..." required class="w-full px-4 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-rose-500"></textarea>
        </div>
        <button type="submit" class="w-full bg-rose-600 text-white px-6 py-3 rounded-full hover:bg-rose-700 transition font-semibold">Post Message</button>
      </form>

      <div class="mt-6 text-center">
        <a href="support-wall.html" class="inline-block border border-rose-600 text-rose-600 px-6 py-3 rounded-full hover:bg-rose-50 transition font-semibold">View All Messages</a>
      </div>
    </section>

    <div class="text-center mb-20">
      <a href="index.html" class="bg-rose-600 text-white px-6 py-3 rounded-full hover:bg-rose-700 transition">Back to Home</a>
    </div>
  </main>

  <!-- Footer (badge style) -->
  <footer style="margin-top:3rem;">
    <div class="container" style="text-align:center;padding-top:1rem;padding-bottom:2rem;">
      <small class="footer-badge">¬© <span id="year"></span> The Footballer‚Äôs Sister</small>
    </div>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

  <script async src="https://www.tiktok.com/embed.js"></script>

  <!-- Dropdown script (same saved behavior) -->
  <script>
    (function () {
      const navButton = document.getElementById('navButton');
      const dropdownMenu = document.getElementById('dropdownMenu');
      const navItems = document.querySelectorAll('.nav-item');
      const navTitle = document.getElementById('navTitle');
      let currentPage = window.location.pathname.split('/').pop();
      if (!currentPage || currentPage === '') currentPage = 'index.html';
      const pageTitles = {"index.html":"Home","bts.html":"Behind the Game","leila.html":"Meet Leila","questions.html":"Q&A","support-wall.html":"Support Wall","fixtures.html":"Fixtures & Live Scores"};
      navTitle.textContent = pageTitles[currentPage] || 'Menu';
      navItems.forEach(link => { const href = link.getAttribute('href'); const hrefName = href.split('/').pop(); if (hrefName === currentPage) link.classList.add('font-semibold','text-rose-600'); });
      navButton.addEventListener('click', (e)=>{ e.stopPropagation(); const isHidden = dropdownMenu.classList.contains('hidden'); if (isHidden) { dropdownMenu.classList.remove('hidden'); setTimeout(()=>dropdownMenu.classList.add('dropdown-open'),10); } else { dropdownMenu.classList.remove('dropdown-open'); setTimeout(()=>dropdownMenu.classList.add('hidden'),200); } });
      document.addEventListener('click', (e)=>{ if (!navButton.contains(e.target) && !dropdownMenu.contains(e.target)) { dropdownMenu.classList.remove('dropdown-open'); setTimeout(()=>dropdownMenu.classList.add('hidden'),200); } });
    })();
  </script>

  <!-- FIREBASE: support form + collabs subscription (reads collabs path you provided) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
    import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBiIvIHLYEQc0UGDcg4Qq0-w2Sv8NHmc6w",
      authDomain: "football-site-c3aa9.firebaseapp.com",
      projectId: "football-site-c3aa9",
      storageBucket: "football-site-c3aa9.appspot.com",
      messagingSenderId: "65396604482",
      appId: "1:65396604482:web:0f31625a714aa8352337db"
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Support wall form
    const form = document.getElementById('support-form');
    const nameInput = document.getElementById('name');
    const messageInput = document.getElementById('message');
    const userIdEl = document.getElementById('user-id');

    let uid = null;
    onAuthStateChanged(auth, (user)=>{
      if (user) { uid = user.uid; if (userIdEl) userIdEl.textContent = uid; }
      else signInAnonymously(auth).catch(()=>{});
    });

    form.addEventListener('submit', async (e)=>{
      e.preventDefault(); if (!uid) return; const name = nameInput.value.trim(); const message = messageInput.value.trim(); if (!name || !message) return; try { await addDoc(collection(db, `/artifacts/1:65396604482:web:0f31625a714aa8352337db/public/data/supportMessages`), { name, message, userId: uid, timestamp: serverTimestamp() }); window.location.href = 'support-wall.html'; } catch (err) { console.error('Support post failed', err); }
    });

    // Collabs subscription ‚Äî read from the collabs path you specified
    (function initCollabs(){
      const slidesEl = document.getElementById('collab-slides');
      const prev = document.getElementById('collabPrev');
      const next = document.getElementById('collabNext');
      const dotsEl = document.getElementById('collabDots');

      let items = [];
      let idx = 0;

      function render(){
        slidesEl.innerHTML = '';
        if (!items.length) { slidesEl.innerHTML = '<div class="w-full flex-shrink-0 p-8 text-center muted">No collab images in gallery.</div>'; dotsEl.innerHTML = ''; return; }
        items.forEach(it => {
          const slide = document.createElement('div');
          slide.className = 'w-full flex-shrink-0 p-4 slide';
          slide.innerHTML = `
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
              <a href="${escapeHtml(it.link||'#')}" target="_blank" rel="noreferrer">
                <img src="${escapeHtml(it.imageUrl)}" alt="${escapeHtml(it.caption||'')}" class="w-full collab-tall object-cover">
              </a>
              <div class="p-3"><div class="collab-caption">${escapeHtml(it.caption||'')}</div></div>
            </div>`;
          slidesEl.appendChild(slide);
        });
        updatePos(); renderDots();
      }

      function updatePos(){ slidesEl.style.transform = `translateX(-${idx * 100}%)`; }
      function renderDots(){ dotsEl.innerHTML = ''; items.forEach((_,i)=>{ const d = document.createElement('button'); d.className = 'w-3 h-3 rounded-full ' + (i===idx ? 'bg-rose-600' : 'bg-gray-300'); d.addEventListener('click', ()=>{ idx=i; updatePos(); renderDots(); }); dotsEl.appendChild(d); }); }

      if (prev) prev.addEventListener('click', ()=>{ if (!items.length) return; idx=(idx-1+items.length)%items.length; updatePos(); renderDots(); });
      if (next) next.addEventListener('click', ()=>{ if (!items.length) return; idx=(idx+1)%items.length; updatePos(); renderDots(); });

      const collRef = query(collection(db, `/artifacts/1:65396604482:web:0f31625a714aa8352337db/public/data/collabs`), orderBy('uploadedAt','desc'));
      onSnapshot(collRef, snap=>{
        const docs = snap.docs.map(d=>({ id:d.id, ...d.data()}));
        // prefer items with imageUrl
        items = docs.map(d=>({ imageUrl: d.imageUrl || d.image || d.url || '', caption: d.caption || d.title || '', link: d.link || d.target || '' })).filter(it=>it.imageUrl);
        idx = 0; render();
      }, err=>{ console.warn('collabs onSnapshot failed', err); slidesEl.innerHTML = '<div class="w-full p-8 text-center muted">No collab images in gallery.</div>'; dotsEl.innerHTML = ''; });

    })();

    // helper escape (same function used above inside module scope)
    function escapeHtml(str){ if(!str) return ''; return String(str).replace(/[&<>"']/g, (s)=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[s]); }

  </script>

  <!-- TikTok carousel controls -->
  <script>
    (function(){
      const slidesContainer = document.getElementById('video-slides-container');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      if (!slidesContainer) return;
      let currentIndex = 0;
      const slides = slidesContainer.children;
      function show(){ slidesContainer.style.transform = `translateX(-${currentIndex * 100}%)`; }
      function next(){ currentIndex = (currentIndex + 1) % slides.length; show(); }
      function prev(){ currentIndex = (currentIndex - 1 + slides.length) % slides.length; show(); }
      if (nextBtn) nextBtn.addEventListener('click', next);
      if (prevBtn) prevBtn.addEventListener('click', prev);
      let startX = 0; const parent = document.getElementById('video-carousel');
      if (parent){ parent.addEventListener('touchstart',(e)=> startX = e.touches[0].clientX); parent.addEventListener('touchend',(e)=>{ const endX = e.changedTouches[0].clientX; const delta = startX - endX; if (Math.abs(delta) > 50){ if (delta > 0) next(); else prev(); } }); }
      window.addEventListener('load', ()=>{ show(); });
    })();
  </script>
</body>
</html>
