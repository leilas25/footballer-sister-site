<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fixtures & Live Scores â€¢ The Footballerâ€™s Sister</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { --accent: #be185d; --muted: #6b7280; }
    body { background:#fff6f8; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color: #111827; margin:0; }

    header.bts-header {
      background: linear-gradient(180deg, rgba(246,213,239,0.6), rgba(255,241,248,0.6));
      border-bottom: 1px solid rgba(235,200,215,0.6);
      backdrop-filter: blur(4px);
      z-index: 500;
    }
    .site-title { color: var(--accent); font-weight: 800; letter-spacing: .02em; }
    footer .footer-badge {
      display:inline-block;
      background: linear-gradient(90deg,#be185d,#f472b6);
      color:white;
      padding:.45rem .85rem;
      border-radius:999px;
      font-weight:700;
    }

    .page-hero { max-width:1100px; margin:0 auto; padding:3.25rem 1.5rem 2rem; }
    .hero-title { font-size:3rem; font-weight:800; color:#be185d; margin:0 0 .6rem; }
    .hero-sub { color:#4b5563; font-size:1.125rem; margin-bottom:1.5rem; }

    .tabs-wrap { display:flex; justify-content:center; gap:1.25rem; margin-bottom:2rem; }
    .tab-btn { min-width:160px; padding:.9rem 1.6rem; border-radius:999px; font-weight:800; border:1px solid rgba(243,211,226,0.7); background:white; box-shadow: 0 6px 18px rgba(0,0,0,0.04); color:#111827; }
    .tab-active { background: linear-gradient(90deg,#be185d,#f472b6); color:white; border-color:transparent; }

    .fixtures-wrap { max-width:1100px; margin:0 auto; padding:0 1.5rem 3.25rem; }

    .fixture-card {
      background:white;
      border-radius:12px;
      padding:14px;
      box-shadow:0 6px 18px rgba(0,0,0,0.04);
      border:1px solid #f3d3e2;
      display:grid;
      grid-template-columns: 1fr 2fr 1fr 160px;
      gap:12px;
      align-items:center;
    }

    /* ðŸ”¥ Added divider style */
    .fixture-divider {
      height: 1px;
      background: rgba(243, 211, 226, 0.7);
      margin: 4px 0 12px;
      width: 100%;
    }

    .team-logo { width:64px; height:64px; object-fit:cover; border-radius:8px; border:1px solid #f3d3e2; }
    .fixture-meta { font-size:.95rem; color:#6b7280; }
    .score { font-size:1.5rem; font-weight:800; color:#be185d; }

    .watch-btn {
      display:inline-flex; align-items:center; gap:8px;
      background: linear-gradient(90deg,#be185d,#f472b6);
      color: white; padding:.5rem .8rem; border-radius:999px; font-weight:800; text-decoration:none;
      box-shadow: 0 6px 14px rgba(190,24,93,0.12);
    }

    @media (max-width:900px){
      .fixture-card { 
        grid-template-columns: 1fr 1fr 1fr; 
        text-align:center; 
        gap:8px; 
        padding:12px;
      }
      .fixture-meta { text-align:center; font-size:.85rem; }
      .team-logo { width:56px; height:56px; }
      .hero-title { font-size:2.25rem; }
    }

    .portal-dropdown { position:absolute; min-width:220px; background:white; border-radius:10px; box-shadow:0 10px 30px rgba(0,0,0,0.12); border:1px solid rgba(0,0,0,0.06); padding:6px 0;
      transform-origin: top right; transition:transform .16s ease-out, opacity .16s ease-out;
      opacity:0; transform:translateY(-6px) scale(.98); z-index:1200;}
    .portal-dropdown.open { opacity:1; transform:translateY(0) scale(1);}
    .portal-dropdown a { display:block; padding:.6rem 1rem; color:#374151; text-decoration:none; font-size:.95rem; }
    .portal-dropdown a:hover { background:#fff0f6; color:var(--accent); }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="bts-header fixed top-0 left-0 right-0">
    <div class="flex justify-between items-center px-6 py-4 container" style="max-width:1100px; margin:0 auto;">
      <div style="display:flex;align-items:center;gap:1rem;">
        <div class="site-title" style="font-size:1.15rem;">THE FOOTBALLERâ€™S SISTER</div>
      </div>

      <div class="relative inline-block text-left">
        <button id="navButton"
          class="inline-flex justify-center items-center gap-2 rounded-md border border-pink-200 shadow-sm px-4 py-2 bg-white text-sm font-medium text-rose-600 hover:bg-pink-50 focus:outline-none">
          <span id="navTitle">Loading...</span>
          <svg class="-mr-1 ml-2 h-5 w-5 text-rose-600" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.25a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <div style="height:92px;"></div>

  <!-- HERO -->
  <section class="page-hero">
    <h1 class="hero-title">Fixtures & Live Scores</h1>
    <p class="hero-sub">Catch upcoming U14 & U19 fixtures below â€” scores update live.</p>

    <div class="tabs-wrap">
      <button id="tabU14" class="tab-btn tab-active">U14</button>
      <button id="tabU19" class="tab-btn">U19</button>
    </div>
  </section>

  <!-- FIXTURES LIST -->
  <section class="fixtures-wrap">
    <div id="fixturesList" style="display:grid; gap:12px;"></div>
  </section>

  <!-- FOOTER -->
  <footer class="text-center py-6">
    <div class="container" style="max-width:1100px; margin:0 auto;">
      <small class="footer-badge">Â© <span id="year"></span> The Footballerâ€™s Sister</small>
    </div>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

  <!-- FIREBASE FIXTURES JS -->
  <script type="module">
    const firebaseConfig = {
      apiKey:"AIzaSyBiIvIHLYEQc0UGDcg4Qq0-w2Sv8NHmc6w",
      authDomain:"football-site-c3aa9.firebaseapp.com",
      projectId:"football-site-c3aa9",
      storageBucket:"football-site-c3aa9.appspot.com",
      messagingSenderId:"65396604482",
      appId:"1:65396604482:web:0f31625a714aa8352337db"
    };

    const APP_ID = firebaseConfig.appId;
    const FIXTURES_COLLECTION_PATH = `/artifacts/${APP_ID}/public/data/fixtures`;

    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getFirestore, collection, onSnapshot, query } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const tabU14 = document.getElementById('tabU14');
    const tabU19 = document.getElementById('tabU19');
    const fixturesList = document.getElementById('fixturesList');

    let currentTab = 'U14';
    let lastDocs = [];

    function setActiveTab(tab) {
      currentTab = tab;
      tabU14.classList.toggle('tab-active', tab === 'U14');
      tabU19.classList.toggle('tab-active', tab === 'U19');
      renderFixtures(lastDocs);
    }

    tabU14.onclick = () => setActiveTab('U14');
    tabU19.onclick = () => setActiveTab('U19');

    function renderFixtures(docs){
      fixturesList.innerHTML = '';

      const filtered = docs.filter(f => {
        const ag = (f.ageGroup || '').toLowerCase();
        return currentTab === 'U14' ? ag.includes('14') : ag.includes('19');
      });

      if(!filtered.length){
        fixturesList.innerHTML = `<div class="text-gray-500">No ${currentTab} fixtures yet.</div>`;
        return;
      }

      filtered.forEach((f, i) => {
        const card = document.createElement('div');
        card.className = 'fixture-card';

        const kickoff = f.kickoffISO ? new Date(f.kickoffISO).toLocaleString() : '';

        card.innerHTML = `
          <div style="display:flex;align-items:center;gap:12px;">
            <img class="team-logo" src="${f.teamALogoUrl || 'images/opponent.png'}"/>
            <div style="font-weight:700;">${f.teamA}</div>
          </div>

          <div style="text-align:center;">
            <div class="fixture-meta">${kickoff}${f.venue ? ' Â· ' + f.venue : ''}</div>
            <div style="margin-top:6px;">
              ${
                f.scoreHome !== undefined && f.scoreAway !== undefined
                ? `<span class="score">${f.scoreHome}</span> <span style="margin:0 .5rem;color:#888">:</span> <span class="score">${f.scoreAway}</span>`
                : `<span style="color:#9CA3AF;font-weight:700;">vs</span>`
              }
            </div>
          </div>

          <div style="display:flex;align-items:center;gap:12px;">
            <div style="font-weight:700;">${f.teamB}</div>
            <img class="team-logo" src="${f.teamBLogoUrl || 'images/opponent.png'}"/>
          </div>

          <div style="display:flex;flex-direction:column;align-items:flex-end;">
            <div class="fixture-meta">${f.ageGroup} Â· ${f.status}</div>
            ${
              f.streamUrl
              ? `<a class="watch-btn" href="${f.streamUrl}" target="_blank">Watch</a>`
              : `<div style="height:36px;"></div>`
            }
          </div>
        `;

        fixturesList.appendChild(card);

        // ðŸ”¥ Add divider AFTER each card except the last one
        if(i < filtered.length - 1){
          const divider = document.createElement('div');
          divider.className = 'fixture-divider';
          fixturesList.appendChild(divider);
        }
      });
    }

    const ref = collection(db, FIXTURES_COLLECTION_PATH);
    const q = query(ref);

    onSnapshot(q, snap => {
      lastDocs = snap.docs.map(d => ({ id: d.id, ...d.data() }));
      lastDocs.sort((a,b)=> (new Date(a.kickoffISO) - new Date(b.kickoffISO)));
      renderFixtures(lastDocs);
    });

    setActiveTab('U14');
  </script>

</body>
</html>
